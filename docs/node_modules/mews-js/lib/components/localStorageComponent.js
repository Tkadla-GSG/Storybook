'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = LocalStorageComponent;

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _store = require('store');

var _store2 = _interopRequireDefault(_store);

var _utils = require('../utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function LocalStorageComponent(_ref) {
    var _ref$prefix = _ref.prefix,
        prefix = _ref$prefix === undefined ? '' : _ref$prefix;

    return _utils.type.create(LocalStorageComponent, {
        set: function set(key, value) {
            _store2.default.set(prefixKey(key), value);
        },
        get: function get(key) {
            return _store2.default.get(prefixKey(key));
        },
        remove: function remove(key) {
            _store2.default.remove(prefixKey(key));
        }
    });

    function prefixKey(key) {
        return _lodash2.default.isEmpty(prefix) ? key : prefix + '.' + key;
    }
}